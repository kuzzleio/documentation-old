<!doctype html><html><head><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=msapplication-TileColor content=#FFFFFF><meta name=msapplication-TileImage content=http://docs.kuzzle.io/assets/images/favicon/mstile-144x144.png><meta name=msapplication-square70x70logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-70x70.png><meta name=msapplication-square150x150logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-150x150.png><meta name=msapplication-wide310x150logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-310x150.png><meta name=msapplication-square310x310logo content=http://docs.kuzzle.io/assets/images/favicon/mstile-310x310.png><meta name=google-site-verification content=luspUdq52gkUU0FFChQ2xmeXSs5HDafpARQ7fVXVBp4><meta itemprop=name content="The Plugin System"><meta itemprop=image content=http://docs.kuzzle.io/assets/images/favicon/favicon-196x196.png><meta name=twitter:card value=summary><meta name=twitter:site content=@kuzzleio><meta name=twitter:title content="The Plugin System"><meta name=twitter:creator content=@kuzzleio><meta name=twitter:image content=http://docs.kuzzle.io/assets/images/favicon/favicon-196x196.png><meta property=og:title content="The Plugin System"><meta property=og:type content=article><meta property=og:site_name content=""><meta property=og:image content=http://docs.kuzzle.io/assets/images/favicon/favicon-96x96.png><meta property=article:published_time content=2017-06-30T13:27:35.274Z><meta property=article:modified_time content=2017-06-30T13:27:35.274Z><meta property=article:section content=Guide><meta property=article:tag content=Essentials><link rel=apple-touch-icon-precomposed sizes=57x57 href=/assets/images/favicon/apple-touch-icon-57x57.png><link rel=apple-touch-icon-precomposed sizes=114x114 href=/assets/images/favicon/apple-touch-icon-114x114.png><link rel=apple-touch-icon-precomposed sizes=72x72 href=/assets/images/favicon/apple-touch-icon-72x72.png><link rel=apple-touch-icon-precomposed sizes=144x144 href=/assets/images/favicon/apple-touch-icon-144x144.png><link rel=apple-touch-icon-precomposed sizes=60x60 href=/assets/images/favicon/apple-touch-icon-60x60.png><link rel=apple-touch-icon-precomposed sizes=120x120 href=/assets/images/favicon/apple-touch-icon-120x120.png><link rel=apple-touch-icon-precomposed sizes=76x76 href=/assets/images/favicon/apple-touch-icon-76x76.png><link rel=apple-touch-icon-precomposed sizes=152x152 href=/assets/images/favicon/apple-touch-icon-152x152.png><link rel=icon type=image/png href=/assets/images/favicon/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=/assets/images/favicon/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/assets/images/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/images/favicon/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/assets/images/favicon/favicon-128.png sizes=128x128><link rel=stylesheet href=/assets/font-awesome/scss/font-awesome.css><link href="//fonts.googleapis.com/css?family=Ubuntu:400,500,700" rel=stylesheet><title>The Plugin System - Essentials - Guide - Kuzzle documentation</title><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/atom-one-light.min.css><link href=/assets/stylesheets/full/screen.css rel=stylesheet type=text/css media=screen></head><body class=index><header><div class=wrapper><div id=logo><a href=http://kuzzle.io/ >&#xA0;</a></div><a class=mobile-nav-burger href=javascript:;></a><nav><ul><li><a href=http://kuzzle.io/kuzzle-entreprise class=nav-item>product</a></li><li><a href=http://docs.kuzzle.io/ class="nav-item developers active">Documentation</a><ul class=mobile-nav><li class=active><a href=/guide><span>Guide</span></a><ul class=sub-nav><li><a href=/guide/getting-started><span>Getting started</span></a></li><li class=active><a href=/guide/essentials><span>Essentials</span></a></li><li><a href=/guide/tutorial><span>Tutorial</span></a></li><li><a href=/guide/kuzzle-depth><span>Kuzzle in depth</span></a></li></ul></li><li><a href=/sdk-reference><span>SDK Reference</span></a></li><li><a href=/kuzzle-dsl><span>Kuzzle DSL</span></a></li><li><a href=/validation-reference><span>Data Validation</span></a></li><li><a href=/api-documentation><span>API Documentation</span></a></li><li><a href=/plugins-reference><span>Plugins Reference</span></a></li><li><a href=/kuzzle-events><span>Kuzzle events</span></a></li><li><a href=/elasticsearch-cookbook><span>Elasticsearch Cookbook</span></a></li></ul></li><li><a href=http://kuzzle.io/demos-tutorials/ class=nav-item>Demos</a></li><li><a href=http://kuzzle.io/blog/ class=nav-item>Blog</a></li><li><a href=http://kuzzle.io/contact/ class=nav-item>Contact</a></li><li><a href=http://kuzzle.io/install/ class=nav-item>Try it</a></li><li><a href=https://github.com/kuzzleio/kuzzle target=_blank class="nav-item github"><i class="icon icon-github icon-small"></i></a></li></ul></nav></div><div class="developer-nav open"><ul class=search><li><input name=search type=search placeholder=search tabindex=1></li></ul><ul class=nav><li class=active><a href=/guide><span>Guide</span></a></li><li><a href=/sdk-reference><span>SDK Reference</span></a></li><li><a href=/kuzzle-dsl><span>Kuzzle DSL</span></a></li><li><a href=/validation-reference><span>Data Validation</span></a></li><li><a href=/api-documentation><span>API Documentation</span></a></li><li><a href=/plugins-reference><span>Plugins Reference</span></a></li><li><a href=/kuzzle-events><span>Kuzzle events</span></a></li><li><a href=/elasticsearch-cookbook><span>Elasticsearch Cookbook</span></a></li></ul><div class=search-results><ul></ul></div><script type=text/plain id=search-results-template><li>
        <a href="__link__" tabindex="__tabindex__">
          <p class="page">
            <span class="title">__title__</span>
            <span class="firstMember">__firstMember__</span>
            <span class="parent">__parent__</span>
          </p>
          <p class="preview">__preview__</p>
        </a>
      </li></script></div></header><div class=container><div class=tocify-wrapper><ul class=search-results></ul><div class=tocify><ul class=tocify-header><li class="tocify-item tocify-focus tocify-hover"></li></ul><ul class=tocify-header><li class=tocify-item><a style="color: #111; text-decoration: none" href=http://docs.kuzzle.io/guide title="back to Guide home">Guide</a></li><ul class=tocify-subheader><li class=tocify-item><a style="color: #002835; text-decoration: none" href=/guide/getting-started title="learn kuzzle in a few steps">Getting started</a></li><li class="tocify-item tocify-focus"><a style="color: #FFF; text-decoration: none" href=# title="learn mechanisms of kuzzle">Essentials</a></li><ul class=tocify-header><ul class=tocify-subheader><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials title="learn mechanisms of kuzzle">&#x203A; Introduction</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/installing-kuzzle title="Installing Kuzzle">&#x203A; Installing Kuzzle</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/installing-backoffice title="Installing Kuzzle Backoffice">&#x203A; Installing Kuzzle Backoffice</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/configuration title="Configuring Kuzzle">&#x203A; Configuring Kuzzle</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/proxy-configuration title="Configuring Kuzzle proxy">&#x203A; Configuring Kuzzle proxy</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/persisted title="Working with persistent data">&#x203A; Working with persistent data</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/data-validation title="Data Validation">&#x203A; Data Validation</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/real-time title="Real-time notifications">&#x203A; Real-time notifications</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/security title="Security configuration">&#x203A; Security configuration</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/user-authentication title="User authentication">&#x203A; User authentication</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/request-and-response-format title="Request and Response format">&#x203A; Request and Response format</a></li><li class="tocify-item tocify-level-2"><a style="color: #002835; text-decoration: none" href=/guide/essentials/cli title="Command Line Interface">&#x203A; Command Line Interface</a></li><li class="tocify-item tocify-level-2 tocify-focus"><a style="color: #FFF; text-decoration: none" href=/guide/essentials/plugins title="The Plugin System">&#x203A; The Plugin System</a></li></ul></ul><li class=tocify-item><a style="color: #002835; text-decoration: none" href=/guide/tutorial title="learn kuzzle in a real case">Tutorial</a></li><li class=tocify-item><a style="color: #002835; text-decoration: none" href=/guide/kuzzle-depth title="understand how to extend kuzzle">Kuzzle in depth</a></li></ul></ul><ul class=toc-footer></ul></div></div><div class=page-wrapper><div class=toc><ul><li class="toc-item toc-level-1"><a href=#the-plugin-system title="The Plugin System">The Plugin System</a></li><li class="toc-item toc-level-2"><a href=#plugin-types title="Plugin Types">Plugin Types</a></li><li class="toc-item toc-level-3"><a href=#core-plugins title="Core Plugins">Core Plugins</a></li><li class="toc-item toc-level-3"><a href=#worker-plugins title="Worker Plugins">Worker Plugins</a></li><li class="toc-item toc-level-3"><a href=#protocol-plugins title="Protocol Plugins">Protocol Plugins</a></li><li class="toc-item toc-level-2"><a href=#how-to-install-plugin title="How to install Plugin">How to install Plugin</a></li><li class="toc-item toc-level-2"><a href=#check-your-plugin-installation title="Check your plugin installation">Check your plugin installation</a></li><li class="toc-item toc-level-2"><a href=#managing-plugins title="Managing Plugins">Managing Plugins</a></li><li class="toc-item toc-level-2"><a href=#going-further title="Going further">Going further</a></li></ul></div><div class=content><div class=mobile-breadcrumb><p style=float:left><a href=http://docs.kuzzle.io/ >Kuzzle documentation</a> &#xBB; <a href=http://docs.kuzzle.io/guide>Guide</a> &#xBB; <a href=http://docs.kuzzle.io/guide/essentials>Essentials</a> &#xBB; The Plugin System</p><p style=float:right class=version-selector><select onchange="window.location = this.value"><option selected>1.0.0</option></select></p></div><div class=nav-sibling><div class=nav-left><p><a href=https://github.com/kuzzleio/documentation/edit/master/src/guide/essentials/plugins.md>edit on github<i class="icon icon-github icon-small"></i></a> <span class=separator>|</span> <a href="https://github.com/kuzzleio/documentation/issues/new?labels=guide&amp;title=Feedback%20about%20page%20&apos;guide/essentials/plugins.md&apos;">send feedback about this content<i class="icon icon-github icon-small"></i></a> <span class=separator>|</span><select class=rate-documentation><option value=""></option><option value=1>Unusable documentation</option><option value=2>Poor documentation</option><option value=3>OK documentation</option><option value=4>Good documentation</option><option value=5>Excellent documentation</option></select></p></div><div class=nav-right><p class=version-selector><span>current version:</span><select onchange="window.location = this.value"><option selected>1.0.0</option></select></p></div><div style=clear:both></div></div><div class=toc-inline><ul><li class="toc-item toc-level-1"><a href=#the-plugin-system title="The Plugin System">The Plugin System</a></li><li class="toc-item toc-level-2"><a href=#plugin-types title="Plugin Types">Plugin Types</a></li><li class="toc-item toc-level-3"><a href=#core-plugins title="Core Plugins">Core Plugins</a></li><li class="toc-item toc-level-3"><a href=#worker-plugins title="Worker Plugins">Worker Plugins</a></li><li class="toc-item toc-level-3"><a href=#protocol-plugins title="Protocol Plugins">Protocol Plugins</a></li><li class="toc-item toc-level-2"><a href=#how-to-install-plugin title="How to install Plugin">How to install Plugin</a></li><li class="toc-item toc-level-2"><a href=#check-your-plugin-installation title="Check your plugin installation">Check your plugin installation</a></li><li class="toc-item toc-level-2"><a href=#managing-plugins title="Managing Plugins">Managing Plugins</a></li><li class="toc-item toc-level-2"><a href=#going-further title="Going further">Going further</a></li></ul></div><div class=main-content><h1><a class=anchor id=the-plugin-system></a>The Plugin System</h1><p>Being able to grab a full-feature backend and run it quickly is very convenient, but Kuzzle is about more than that. As soon as you start developing real-life applications that live out in the wild, you need to <strong>extend your backend with your own business-logic</strong>. That&apos;s quite legitimate: some logic is sensible and cannot live on the client.</p><p>For example, imagine your application needs to leverage a <strong>third-party payment system</strong>, such as Braintree. You don&apos;t want to put the client in charge of bearing API keys and tokens. Also, you will probably want to <strong>keep track of orders</strong> and payments, once the transactions successfully end. This should be also a concern of your backend. Also, you are not likely to allow your customers to purchase more items than available, right? At some point, <strong>your backend has to validate the transaction</strong> by comparing the ordered quantity with the available stocks.</p><p>To make sure Kuzzle fits whatever needs you might have, it includes a powerful <strong><a href=/plugins-reference>Plugin System</a></strong> allowing you to add features to your server in a modular fashion. With Kuzzle Plugins you can:</p><ul><li>use an existing plugin from the Kuzzle Plugins ecosystem (such as the <a href=https://github.com/kuzzleio/kuzzle-plugin-auth-passport-oauth>OAuth2 Authentication strategy</a> or the <a href=https://github.com/kuzzleio/kuzzle-plugin-mqtt>MQTT Protocol</a>);</li><li><a href=/plugins-reference/plugins-features>create your own plugin</a> from scratch.</li></ul><hr><h2><a class=anchor id=plugin-types></a>Plugin Types</h2><p>There are three main Plugin types, each one has specific features.</p><h3><a class=anchor id=core-plugins></a>Core Plugins</h3><p>They are the most common type of plugins and are meant to extend the Kuzzle Core features. They are plugged on the Kuzzle Core at startup and they share its execution thread. A Core Plugin can extend Kuzzle with the following features:</p><p><a href=/plugins-reference/plugins-features/adding-hooks>Listen asynchronously</a>, and perform operations that depend on data-related events. The chunk of data involved with the event is passed to the triggered callback, but the Kuzzle Core continues its execution without waiting for the callback to return.</p><p><em>Example - &quot;Write a log to a third-party log system every time a document is deleted&quot;</em>. The <a href=https://github.com/kuzzleio/kuzzle-plugin-logger>Logger Plugin</a>, shipped with Kuzzle, uses this feature to log all the data-related events.</p><p><a href=/plugins-reference/plugins-features/adding-pipes>Listen synchronously</a>, and perform operations that depend on data-related events. Multiple synchronous listeners can be chained, forming a pipeline. The chunk of data involved with the event is passed to one plugin to another in the pipeline, and it can be modified. The Kuzzle Core waits for the pipeline to return and receives then processes the potentially modified value. A plugin can even stop a request life-cycle, by returning a standard Error to the Kuzzle Core.</p><p><em>Example - &quot;Compare the ordered quantity with the available stocks and return an error if the amount of ordered items exceeds the stocks&quot;</em>.</p><p><a href=/plugins-reference/plugins-features/adding-controllers>Add a controller route</a> to expose new actions to the API.</p><p><em>Example - &quot;Expose a <code>checkout</code> API endpoint that handles the Braintree payment process&quot;</em>.</p><p><a href=/plugins-reference/plugins-features/adding-authentication-strategy>Add an authentication strategy</a> to the User authentication system.</p><p><em>Example - &quot;Enable Kuzzle to authenticate users via the OAuth strategy&quot;</em> Kuzzle ships with an Authentication Plugin already bundled in its Community Edition, the <a href=https://github.com/kuzzleio/kuzzle-plugin-auth-passport-local>Local Strategy Plugin</a>. Thanks to PassportJS, more than 300 authentication strategies are readily available.</p><h3><a class=anchor id=worker-plugins></a>Worker Plugins</h3><p><a href=/plugins-reference/plugins-features/adding-hooks/#executing-hooks-in-separate-threads>Workers Plugins</a> are Core Plugins running on separate processes. The only feature they can add is to asynchronously listen to data-related events. They are useful when performing costly operations as they have no impact on Kuzzle performances.</p><p><em>Example - &quot;Compute a complex data-mining operation and commit the result to a third-party Business-Intelligence platform every time a document is changed&quot;.</em></p><h3><a class=anchor id=protocol-plugins></a>Protocol Plugins</h3><p><a href=/plugins-reference/plugins-features/adding-protocol>Protocol Plugins</a> extend Kuzzle networking capabilities by adding new network protocols.</p><p><em>Example - &quot;Enable Kuzzle to interact with XMPP-oriented services&quot;</em> Kuzzle ships with a Protocol Plugin already bundled in its Community Edition, the <a href=https://github.com/kuzzleio/kuzzle-plugin-mqtt>MQTT Plugin</a>.</p><hr><h2><a class=anchor id=how-to-install-plugin></a>How to install Plugin</h2><aside class=notice>If you are running Kuzzle in a Docker container, you will need to enter the container to access the installation directory.</aside><p>To install a Plugin, you just need to make it accessible within the <code>plugins/enabled</code> directory (relative to the path of the Kuzzle installation directory).<br>A common practice is to copy the Plugin code in the <code>plugins/available</code> directory, and to create a symbolic link in <code>plugins/enabled</code> pointing to it. This way, enabling and disabling a plugin is just a matter of creating or deleting a symbolic link.</p><p>We are going to install the <a href=https://github.com/kuzzleio/kuzzle-core-plugin-boilerplate><strong>Core Plugin Boilerplate</strong></a>, which demonstrates each feature of a Core Plugin:</p><ul><li><a href=/plugins-reference/plugins-features/adding-hooks>listen asynchronously</a>, and perform operations that depend on data-related events;</li><li><a href=/plugins-reference/plugins-features/adding-pipes>listen synchronously</a>, and approve, modify and/or reject data-related queries;</li><li><a href=/plugins-reference/plugins-features/adding-controllers>add a controller route</a> to expose new actions to the API;</li><li><a href=/plugins-reference/plugins-features/adding-authentication-strategy>add an authentication strategy</a> to Kuzzle.</li></ul><p>Go to the Kuzzle installation directory and type:</p><pre><code class="hljs bash"><span class=hljs-meta>#!/bin/bash
</span>
<span class=hljs-built_in>cd</span> <span class=hljs-string>&quot;plugins/available&quot;</span>
git <span class=hljs-built_in>clone</span> https://github.com/kuzzleio/kuzzle-core-plugin-boilerplate.git

<span class=hljs-built_in>cd</span> <span class=hljs-string>&quot;../enabled&quot;</span>
ln <span class=hljs-_>-s</span> <span class=hljs-string>&quot;../available/kuzzle-core-plugin-boilerplate&quot;</span> .

<span class=hljs-comment># Restart Kuzzle to reload Plugins</span>
pm2 restart KuzzleServer</code></pre><hr><h2><a class=anchor id=check-your-plugin-installation></a>Check your plugin installation</h2><p>Once Kuzzle has restarted you can check the server information at <code>http://localhost:7512/?pretty=true</code> which contains the new <code>kuzzle-core-plugin-boilerplate</code> plugin entry:</p><pre><code class="hljs json">{
  <span class=hljs-attr>&quot;...&quot;</span>: <span class=hljs-string>&quot;...&quot;</span>,

  <span class=hljs-attr>&quot;result&quot;</span>: {
    <span class=hljs-attr>&quot;serverInfo&quot;</span>: {
      <span class=hljs-attr>&quot;kuzzle&quot;</span>: {

        <span class=hljs-attr>&quot;...&quot;</span>: <span class=hljs-string>&quot;...&quot;</span>,

        <span class=hljs-attr>&quot;plugins&quot;</span>: {

          <span class=hljs-attr>&quot;...&quot;</span>: <span class=hljs-string>&quot;...&quot;</span>,

          <span class=hljs-attr>&quot;kuzzle-core-plugin-boilerplate&quot;</span>: {
            <span class=hljs-attr>&quot;name&quot;</span>: <span class=hljs-string>&quot;kuzzle-core-plugin-boilerplate&quot;</span>,
            <span class=hljs-attr>&quot;hooks&quot;</span>: [
              <span class=hljs-string>&quot;document:beforeCreateOrReplace&quot;</span>,
              <span class=hljs-string>&quot;document:beforeReplace&quot;</span>,
              <span class=hljs-string>&quot;document:beforeUpdate&quot;</span>
            ],
            <span class=hljs-attr>&quot;pipes&quot;</span>: [
              <span class=hljs-string>&quot;document:beforeCreate&quot;</span>,
              <span class=hljs-string>&quot;realtime:beforePublish&quot;</span>
            ],
            <span class=hljs-attr>&quot;controllers&quot;</span>: [
              <span class=hljs-string>&quot;kuzzle-core-plugin-boilerplate/myNewController&quot;</span>
            ],
            <span class=hljs-attr>&quot;routes&quot;</span>: [
              {
                <span class=hljs-attr>&quot;verb&quot;</span>: <span class=hljs-string>&quot;get&quot;</span>,
                <span class=hljs-attr>&quot;url&quot;</span>: <span class=hljs-string>&quot;/kuzzle-core-plugin-boilerplate/say-something/:property&quot;</span>,
                <span class=hljs-attr>&quot;controller&quot;</span>: <span class=hljs-string>&quot;myNewController&quot;</span>,
                <span class=hljs-attr>&quot;action&quot;</span>: <span class=hljs-string>&quot;myNewAction&quot;</span>
              },
              {
                <span class=hljs-attr>&quot;verb&quot;</span>: <span class=hljs-string>&quot;post&quot;</span>,
                <span class=hljs-attr>&quot;url&quot;</span>: <span class=hljs-string>&quot;/kuzzle-core-plugin-boilerplate/say-something&quot;</span>,
                <span class=hljs-attr>&quot;controller&quot;</span>: <span class=hljs-string>&quot;myNewController&quot;</span>,
                <span class=hljs-attr>&quot;action&quot;</span>: <span class=hljs-string>&quot;myNewAction&quot;</span>
              }
            ],
            <span class=hljs-attr>&quot;strategies&quot;</span>: [
              <span class=hljs-string>&quot;dummy&quot;</span>
            ]
          }
        }
      }
    }
  }
}</code></pre><p>Here you can see what your plugin has registered:</p><ul><li><code>hooks</code> asynchronous operations that depend on data-related events</li><li><code>pipes</code> synchronous operations that depend on data-related events</li><li><code>controllers</code> list of exposed actions to the API</li><li><code>routes</code> list of exposed actions to the <strong>REST</strong> API</li><li><code>strategies</code> list of exposed authentication strategies</li></ul><hr><h2><a class=anchor id=managing-plugins></a>Managing Plugins</h2><p>To learn about how to manage or configure plugins, please check our <a href=/plugins-reference/managing-plugins>Plugin reference documentation</a>.</p><hr><h2><a class=anchor id=going-further></a>Going further</h2><p>To get a deeper insight on how Plugins work in Kuzzle, please refer to the <a href=/plugins-reference>Plugin Reference</a>.</p><p>Here is a list of officials Plugins:</p><ul><li><a href=https://github.com/kuzzleio/kuzzle-plugin-auth-passport-local><strong>kuzzle-plugin-auth-passport-local</strong></a>: shipped with Kuzzle installation, authentication plugin</li><li><a href=https://github.com/kuzzleio/kuzzle-plugin-logger><strong>kuzzle-plugin-logger</strong></a>: shipped with Kuzzle installation, worker plugin</li><li><a href=https://github.com/kuzzleio/kuzzle-plugin-auth-passport-oauth><strong>kuzzle-plugin-auth-passport-oauth</strong></a>: authentication plugin</li><li><a href=https://github.com/kuzzleio/kuzzle-plugin-mqtt><strong>kuzzle-plugin-mqtt</strong></a>: protocol plugin</li></ul><p>You also can search for <code>kuzzle-plugin</code> topic on <a href="https://github.com/search?q=topic%3Akuzzle-plugin&amp;type=Repositories">github</a></p><div style="clear: both"></div></div><hr><div id=disqus_thread></div><script async>var disqus_developer = 1;
      
        var disqus_config = function () {
          this.page.url = 'http://docs.kuzzle.io/guide/essentials/plugins';
          this.page.title = 'The Plugin System';
          this.page.identifier = 'guide/essentials/plugins';
        };
      
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://kuzzle-documentation.disqus.com/embed.js';
          s.async = 'async';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();</script><div class="nav-sibling bottom"><div class=nav-left><p><a href=https://github.com/kuzzleio/documentation/edit/master/src/guide/essentials/plugins.md>edit on github<i class="icon icon-github icon-small"></i></a> <span class=separator>|</span> <a href="https://github.com/kuzzleio/documentation/issues/new?labels=guide&amp;title=Feedback%20about%20page%20&apos;guide/essentials/plugins.md&apos;">send feedback about this content<i class="icon icon-github icon-small"></i></a> <span class=separator>|</span><select class=rate-documentation><option value=""></option><option value=1>Unusable documentation</option><option value=2>Poor documentation</option><option value=3>OK documentation</option><option value=4>Good documentation</option><option value=5>Excellent documentation</option></select></p></div><div class=nav-right><p class=medium-only></p><p><a href=#>back to top &#x2191;</a></p></div><div style=clear:both></div></div></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js></script><script src=//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js></script><script src=/assets/javascript/lib/jquery.barrating.js></script><script type=text/javascript>// store helper
  var store = function store(key, value) {
    var lsSupport = false;

    // Check for native support
    if (localStorage) {
      lsSupport = true;
    }

    // If value is detected, set new or modify store
    if (typeof value !== "undefined" && value !== null) {
      // Convert object values to JSON
      if ( typeof value === 'object' ) {
        value = JSON.stringify(value);
      }
      // Set the store
      if (lsSupport) { // Native support
        localStorage.setItem(key, value);
      } else { // Use Cookie
        createCookie(key, value, 30);
      }
    }

    // No value supplied, return value
    if (typeof value === "undefined") {
      // Get value
      if (lsSupport) { // Native support
        data = localStorage.getItem(key);
      } else { // Use cookie
        data = readCookie(key);
      }

      // Try to parse JSON...
      try {
        data = JSON.parse(data);
      }
      catch(e) {
        data = data;
      }

      return data;
    }

    // Null specified, remove store
    if (value === null) {
      if (lsSupport) { // Native support
        localStorage.removeItem(key);
      } else { // Use cookie
        createCookie(key, '', -1);
      }
    }

    /**
     * Creates new cookie or removes cookie with negative expiration
     * @param  key       The key or identifier for the store
     * @param  value     Contents of the store
     * @param  exp       Expiration - creation defaults to 30 days
     */
    function createCookie(key, value, exp) {
      var date = new Date();
      date.setTime(date.getTime() + (exp * 24 * 60 * 60 * 1000));
      var expires = "; expires=" + date.toGMTString();
      document.cookie = key + "=" + value + expires + "; path=/";
    }

    /**
     * Returns contents of cookie
     * @param  key       The key or identifier for the store
     */
    function readCookie(key) {
      var nameEQ = key + "=";
      var ca = document.cookie.split(';');
      for (var i = 0, max = ca.length; i < max; i++) {
        var c = ca[i];
        while (c.charAt(0) === ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
      }
      return null;
    }
  };






  // google analytics
  (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
              (i[r].q = i[r].q || []).push(arguments)
          }, i[r].l = 1 * new Date();
      a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-67035328-1', 'auto');
  ga('send', 'pageview');


  (function scrollToHash() {
    if (window.location.hash != '') {
      var anchor = $(location.hash).get(0);
      if (anchor) {
        anchor.scrollIntoView();
      }
    }
  })();




  (function mobileNavBuger() {
    var $body = $('body');

    $('.mobile-nav-burger').on('click', function() {
      $body.toggleClass('nav-burger-open');
    });
  })();







  (function rateDocumentation() {
    var $rateDocumentation = $('.rate-documentation');
    var pagePath = 'guide/essentials/plugins'.replace(/\//g, '-');
    var categoryRating = parseInt(store('rate-documentation-' + pagePath));

    $rateDocumentation.barrating({
      theme: 'fontawesome-stars',
      initialRatting: 0,
      allowEmpty: true,
      onSelect: function(value, text, event) {
        if (typeof(event) !== 'undefined') {
          // rating was selected by a user
          store('rate-documentation-' + pagePath, event.target.dataset.ratingValue);
          $rateDocumentation.barrating('set', event.target.dataset.ratingValue);
          // $rateDocumentation.barrating('readonly', true); // wired on mobile

          ga('send', 'event', {
            eventCategory: 'documentation-rate',
            eventAction: 'http://docs.kuzzle.io/guide/essentials/plugins',
            eventLabel: event.target.dataset.ratingText,
            transport: 'beacon'
          });

          window.setTimeout(function() {
            $('.br-current-rating').css('transition', 'opacity 0.15s');
            $('.br-current-rating').css('opacity', '0');

            window.setTimeout(function() {
              $('.br-current-rating').css('transition', 'opacity 0.9s');
              $('.br-current-rating').text("thank's for feedback !");
              $('.br-current-rating').css('opacity', '1');
            }, 140);
          }, 1);

          window.setTimeout(function() {
            $('.br-current-rating').css('opacity', '0');

            window.setTimeout(function() {
              $('.br-current-rating').css('transition', 'opacity 0.2s');
              if (event.target.dataset.ratingText === 'Excellent documentation') {
                $('.br-current-rating').text(event.target.dataset.ratingText + ' \\o/');
              }
              else {
                $('.br-current-rating').text(event.target.dataset.ratingText);
              }
              $('.br-current-rating').css('opacity', '1');
            }, 1000);
          }, 2500);
        }
        else {
          // rating was selected programmatically
          // by calling `set` method
        }
      }
    });

    $('.br-current-rating').addClass('visible');

    if (!isNaN(categoryRating)) {
      $rateDocumentation.barrating('set', categoryRating);
      $rateDocumentation.barrating('readonly', true);
    }
  })();











  (function leftNavUX() {
    var $wrapper = $('.tocify-wrapper');

    if ($wrapper.length !== 0) {
      var $selectedItem = $('.tocify-level-2.tocify-focus', $wrapper);

      if ($selectedItem.length === 0) {
        $selectedItem = $('.tocify-focus', $wrapper);
      }

      if ($selectedItem.get(0).offsetTop + 120 > $wrapper.height()) {
        $wrapper.scrollTop(Math.ceil($selectedItem.get(0).offsetTop - $wrapper.height() / 2));
      }
    }
  })();









  (function tocUX() {
    var $toc = $('.toc');
    var $content = $('.content');

    //----------------------------
    // fixes toc next to content
    if ($toc.length > 0) {
      var debounceComputeSize = false;
      var computeSize = function() {
        // 280 is the width of left nav / 15 is the margin with content
        $toc.css('left', $content.get('0').offsetLeft + $content.get('0').offsetWidth + 280 + 15 +'px');
        // 30 is the margin with bottom window
        $toc.css('max-height', window.innerHeight - $toc.get('0').offsetTop - 30  + 'px');
      }

      $(window).on('resize', function() {
        clearTimeout(debounceComputeSize);
        debounceComputeSize = setTimeout(computeSize, 13);
      })
      computeSize();
    }
    //----------------------------

    //---------------------------------------------------------------------
    // toogle 'active' class on toc link when headings pass window offset
    if ($toc.length > 0) {
      var headings = {};
      var debounceActiveItem = false;
      var computeActiveItem = function() {
        var lastPassedItem;

        for (let key in headings) {
          headings[key].$link.removeClass('active');

          if (headings[key].offset <= window.pageYOffset + 70) {
            lastPassedItem = headings[key];
          }
        }

        if (lastPassedItem) {
          lastPassedItem.$link.addClass('active');
        }
      }

      $('a[href]', $toc).each(function(index, element) {
        var id = element.href.slice(element.href.indexOf('#'));
        var $ref = $(id).parent();

        if ($ref.length > 0) {
          headings[id] = {
            $ref: $ref,
            $link: $(element),
            offset: $ref.get('0').offsetTop
          }
        }
      });

      $(window).on('scroll', function() {
        clearTimeout(debounceActiveItem);
        debounceActiveItem = setTimeout(computeActiveItem, 10);
      })
      computeActiveItem();
    }
    //---------------------------------------------------------------------
  })();

















  //---------------------------------------------------------------------
  // copy code to clipboard button
  (function codeClipboard() {
    $hljs = $('.hljs');

    if ($hljs.length > 0) {
      var debounceClipboard = false;
      var clipboardSnippets;

      function fallbackMessage(action) {
          var actionMsg = '';
          var actionKey = (action === 'cut' ? 'X' : 'C');
          if (/iPhone|iPad/i.test(navigator.userAgent)) {
              actionMsg = 'No support :(';
          } else if (/Mac/i.test(navigator.userAgent)) {
              actionMsg = 'Press âŒ˜-' + actionKey + ' to ' + action;
          } else {
              actionMsg = 'Press Ctrl-' + actionKey + ' to ' + action;
          }
          return actionMsg;
      }

      $hljs.each(function(index, element) {
        $(element).before('<button class="clipboard" title="copy code to clipboard" data-clipboard-snippet><i class="fa fa-clipboard" aria-hidden="true"></i></button>');
      })

      clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
          target: function(trigger) {
              return trigger.nextElementSibling;
          }
      });

      clipboardSnippets.on('success', function(e) {
          e.clearSelection();
          $(e.trigger).text('Copied!')

          clearTimeout(debounceClipboard);
          debounceClipboard = setTimeout(function() {
            $(e.trigger).html('<i class="fa fa-clipboard" aria-hidden="true"></i>');
          }, 1200);
      });
      clipboardSnippets.on('error', function(e) {
        e.clearSelection();
        $(e.trigger).text(fallbackMessage(e.action));

        clearTimeout(debounceClipboard);
        debounceClipboard = setTimeout(function() {
          $(e.trigger).html('<i class="fa fa-clipboard" aria-hidden="true"></i>');
        }, 2400);
      });
    }
  })();
  //---------------------------------------------------------------------








  //---------------------------------------------------------------------
  // language tab selector
  (function languageTabSelector() {
    var $languageTabSelector = $('.language-tab-selector a');
    var pageCategory = 'guide'.replace(/\//g, '-');
    var selectedLanguage = store('selected-language' + pageCategory);

    if (selectedLanguage) {
      if ($('.language-tab[data-language="' + selectedLanguage + '"]').length > 0) {
        $('.language-tab-active').removeClass('language-tab-active');
        $('.language-tab-selector a[data-language-name="' + selectedLanguage + '"]').addClass('language-tab-active');
        $('.language-tab[data-language="' + selectedLanguage + '"]').addClass('language-tab-active');
      }
    }

    if ($languageTabSelector.length > 0) {
      $languageTabSelector.on('click touch', function(e) {
        e.preventDefault();
        e.stopPropagation();

        var language = $(this).data('languageName');

        $('.language-tab-active').removeClass('language-tab-active');
        $('.language-tab-selector a[data-language-name="' + language + '"]').addClass('language-tab-active');
        $('.language-tab[data-language="' + language + '"]').addClass('language-tab-active');

        store('selected-language' + pageCategory, language)
      });
    }
  })();
  //---------------------------------------------------------------------









  (function instantSearchUI() {
    var KEY_UP = 38;
    var KEY_DOWN = 40;
    var client = algoliasearch("4RFBRWISJR", "6febf1ebe906bd82bce58d5a20ac6c1b");
    var index = client.initIndex('kuzzle-documentation');
    var template = $('#search-results-template').html();
    var $searchInput = $('.search input[type=search]');
    var $searchResults = $('.search-results');
    var $searchResultsContainer = $('ul', $searchResults);
    var watchResultsDebounce = false;
    var selectedIndex = -1;
    var watchClose = false;
    var lastHits = 0;
    var _a = true;

    var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/rn/g,"n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}


    // focus search input on content loaded
    $searchInput.focus();


    $(window).on('keydown', function (event) {
      if (watchClose) {
        var $results = $('a', $searchResultsContainer);
        var $focusResult = $('a:hover, a:focus', $searchResultsContainer);

        if ($focusResult.length > 0) {
          $results.each(function(index, element) {

            if ($results[index] === $focusResult.get(0)) {
              selectedIndex = index;
            }
          })
        }

        switch (event.keyCode) {
          case KEY_UP:
            event.stopPropagation();
            if (selectedIndex === 0) {
              selectedIndex = -1;
            }

            if (selectedIndex === -1) {
              $searchInput.focus();
              selectedIndex = $results.length - 1;
            }
            else {
              selectedIndex -= 1;
              $results.get(selectedIndex).focus();
            }
            //$('li:not(:last-child).selected').removeClass('selected').next().addClass('selected');

            return false;
          case KEY_DOWN:
            event.stopPropagation();
            if (selectedIndex >= $results.length -1) {
              $searchInput.focus();
              selectedIndex = -1;
            }
            else {
              selectedIndex += 1;
              $results.get(selectedIndex).focus();
            }
            //$('li:not(:first-child).selected').removeClass('selected').prev().addClass('selected');
            return false;
        }
      }
    });

    // search results open/close handlers
    $(window).on('click touch', function() {
      if (watchClose) {
        $searchResults.removeClass('display');
        watchClose = false;

        if (watchResultsDebounce) {
          window.clearTimeout(watchResultsDebounce);
        }
      }
    });

    $searchInput.on('click touch', function(event) {
      if (lastHits > 0) {
        $searchResults.addClass('display');
        watchClose = true;
      }
      event.stopPropagation();
    });

    $searchInput.on('focus', function(event) {
      if (lastHits > 0) {
        $searchResults.addClass('display');
        watchClose = true;
      }

      selectedIndex = -1;
    });

    $searchInput.on('blur', function(event) {
      if (lastHits > 0) {
        $searchResults.addClass('display');
        watchClose = true;
      }
    });
    // end - search results open/close handlers


    // main input listener
    $searchInput.on('input', function(event) {
      var $input = $(this);
      var searchResultsContent = '';
      // var length = (this.value.length + 1) * 6;

      selectedIndex = -1;

      // // resize input length to fit value
      // length = (length > 450) ? 450 : length;
      // this.style.width = (length > 220) ? length + 'px' : '220px';


      // clear search result on empty input
      if (this.value === '' || Base64.encode(this.value) === 'SGVscCBSeXUgYnkgY2xpY2tpbmcgeW91ciB3YXkgdGhyb3VnaCBkZXN0aW55IQ==') {
        $searchResults.removeClass('display');
        $searchResultsContainer.empty();
        watchClose = false;

        return;
      }

      if (_a) {
        console.warn(Base64.decode('WW91IG1pZ2h0IHdhbnQgdG8gYXNrIFJ5dSBmb3IgaGVscA=='));
        _a = false;
      }

      if (Base64.encode(this.value.toLowerCase()) === 'cnl1IGhlbHAgbWU=') {
        var d = document

        s = d.createElement('script');
        s.src = '/' + Base64.decode('YXNzZXRzL2phdmFzY3JpcHQvbGliL2pxdWVyeS5zb21ldGhpbmcuanM=');
        s.async = 'async';
        (d.head || d.body).appendChild(s);

        $searchResultsContainer.empty();
        $searchResults.removeClass('display');
        watchClose = false;

        this.disabled = true;
        this.value = Base64.decode('SGVscCBSeXUgYnkgY2xpY2tpbmcgeW91ciB3YXkgdGhyb3VnaCBkZXN0aW55IQ==');

        return;
      }

      index.search(this.value, function(err, res) {
        if (err) {
          console.error(err);
          return;
        }

        lastHits = res.hits.length;
        if (watchResultsDebounce) {
          window.clearTimeout(watchResultsDebounce);
        }

        if (lastHits === 0) {
          $searchResultsContainer.empty();
          $searchResults.removeClass('display');
          return;
        }

        // send ga event when user has search results but does nothing
        watchResultsDebounce = window.setTimeout(function() {
          ga('send', 'event', {
            eventCategory: 'documentation-search',
            eventAction: (lastHits > 0) ? '<watch_results>' : '<no_results>',
            eventLabel: $searchInput.val(),
            transport: 'beacon'
          });
        }, 4000);

        $searchResults.addClass('display');
        watchClose = true;

        // make search result item from
        for (var key in res.hits) {
          var content = template;

          // here we secure manualy all xml tags wich may can be retrieved by results, but we keep <em> tags for highlighting
          var elements = res.hits[key]._snippetResult.content.value.split('<em>');
          var preview = '';

          for (var k in elements) {
            elements[k] = elements[k].replace(/</g, '&lt;');
            elements[k] = elements[k].replace(/>/g, '&gt;');
          }

          // restore <em></em> tags
          preview = elements.join('<em>');
          preview = preview.replace(/&lt;\/em&gt;/g, '</em>');

          // replace variables in template
          content = content.replace(/__tabindex__/g, key + 2);
          content = content.replace(/__link__/g, 'http://docs.kuzzle.io/' + res.hits[key].path);
          content = content.replace(/__parent__/g, res.hits[key].parent || '');
          content = content.replace(/__firstMember__/g, res.hits[key].firstMember || '');
          content = content.replace(/__title__/g, res.hits[key]._highlightResult.title.value);
          content = content.replace(/__preview__/g, preview);

          searchResultsContent += content;
        }

        // add algolia copyright
        searchResultsContent += '<li style="text-align: right"><img src="https://www.algolia.com/assets/pricing_new/algolia-powered-by-ac7dba62d03d1e28b0838c5634eb42a9.svg" style="margin: 8px 8px 0 0;"></li>';

        // magic jQuery
        $searchResultsContainer.html(searchResultsContent);

        // send ga event on search result hit
        $('a', $searchResultsContainer).on('click touch', function(event) {
          ga('send', 'event', {
            eventCategory: 'documentation-search',
            eventAction: this.href,
            eventLabel: $searchInput.val(),
            transport: 'beacon'
          });
        });
      });
    });

  })();</script></body></html>